<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
    //es6按照一定的模式，从数组和对象中提取值，对变量进行赋值。这种操作称为解构

    // let a = 1,
    //     b = 2,
    //     c = 3;
    // console.log(a,b,c); // 123

    //以上写法可以写成es6这种的
    // let [a,b,c] = [1,2,3]
    // console.log(a,b,c);

    /*
        es6调换a和b位置小栗子
    */
    // var a = 10;
    // var b = 5;
    // var [a,b] = [b,a];
    // console.log(a,b);

    /*
    右边为undefined，而左边有默认值，最后输出默认值
    */
    // var [b=5,a] = [,b];
    // console.log(b);

    // let [x,...y] = [1,2,3];
    // console.log(y);//23

    // let [x,y,...z] = ['a'];
    // console.log(z);//[]
    // console.log(x);//a
    // console.log(y);//undefined
    /*解构不成功变量的值会为undefined*/
    // let [foo] = [];
    // let [b,a] = [1];
    // console.log(foo)//undefined;
    // console.log(a);//undefined
    // console.log(b);//1
    /*
    等号左边只匹配一部分等号右边一部分的数组，这种也可以解构成功
    （值比变量多的话可以，变量比值多就不可以了）
    */
    // let [a,b,c,d,e] = [1,2,3,4];
    // console.log(e);//undefined
    // console.log(d);//4

    // let [a,[b],c] = [1,[2,3],5];
    // console.log(c);//5
    // console.log(b);//2
    // let [foo, [[bar], baz]] = [1, [[2], 3]];
    // console.log(foo,bar,baz);
    // let [f = true] = [];
    // console.log(f);//true
    // let [x,y = 'b'] = ['a'];
    // console.log(x,y);//a b
    // let [m,n = 'b'] = ['a',undefined];
    // console.log(m,n);//a b

    // let [x=1] = [undefined];
    // let [z=1] = [null];
    // console.log(x);//1
    // console.log(z);//null

    /*
        如果默认值是一个表达式，那么这个表达式是惰性求值的，(即只有在用到的时候，才会求值)
    // */
    // function fn(){
    //     console.log('arry');
    // }
    // // let [x = fn()] = [1];
    // let x;
    // if ([1][0] === undefined) {
    //     x = fn();
    //     } else {
    //     x = [1][0];
    // }
    /*
        默认值可以引用解构赋值的其他变量，但该变量必须已经声明。(否则报错)
    */
    let [x = 1,y = x] = [];
    let [a = 1,b = a] = [3];
    let [m = 5,n = m] = [1,2];
    let [e = i,i = 1] = [];
    console.log(x,y);//1 1
    console.log(a,b);//3 3
    console.log(m,n);//1 2
    console.log(e,i);//ReferenceError: i is not defined报错
    //最后一个e用i做默认值时，i还没有声明 所以报错
    </script>
</body>
</html>